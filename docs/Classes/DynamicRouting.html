<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DynamicRouting Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/DynamicRouting" class="dashAnchor"></a>
    <a title="DynamicRouting Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html"> Docs</a> (68% documented)</p>
        <p class="header-right"><a href="https://github.com/JasperHsieh/Survey-Schedule-App"><img src="../img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html"> Reference</a>
        <img id="carat" src="../img/carat.png" />
        DynamicRouting Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/ClusterRouting.html">ClusterRouting</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DynamicRouting.html">DynamicRouting</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/StationRouting.html">StationRouting</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Global%20Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule11BaseStationSSvp">BaseStation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule14InvalidStationSSvp">InvalidStation</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule1MSivp">M</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule1NSivp">N</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule11WorkingHourSivp">WorkingHour</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule11clusterInfo10SwiftyJSON0F0VSgvp">clusterInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule15clusterInfoFileSSvp">clusterInfoFile</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule8statInfo10SwiftyJSON0F0VSgvp">statInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule12statInfoFileSSvp">statInfoFile</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule13statPermCache10SwiftyJSON0G0VSgvp">statPermCache</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule17statPermCacheFileSSvp">statPermCacheFile</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule18statPermStartCache10SwiftyJSON0H0VSgvp">statPermStartCache</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule22statPermStartCacheFileSSvp">statPermStartCacheFile</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule18statTravelTimeFileSSvp">statTravelTimeFile</a>
              </li>
              <li class="nav-group-task">
                <a href="../Global%20Variables.html#/s:15Survey_Schedule18statTravelTimeInfo10SwiftyJSON0H0VSgvp">statTravelTimeInfo</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule14getCurrentDate10Foundation0E0VyF">getCurrentDate()</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule12getDiffInSec5start3endSi10Foundation4DateV_AGtF">getDiffInSec(start:end:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule6getKey8stationsSSSaySSG_tF">getKey(stations:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule26getMinPermStationFromCache8stationsSaySSGAD_tF">getMinPermStationFromCache(stations:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule35getMinPermWithStartStationFromCache8stationsSaySSGAD_tF">getMinPermWithStartStationFromCache(stations:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule24getStartStationFromCache8stationsSSSaySSG_tF">getStartStationFromCache(stations:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule15getStationsListSayAA7StationCGyF">getStationsList()</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule18getStatsTravelTime5stat15stat2SiSS_SStF">getStatsTravelTime(stat1:stat2:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule14getTimeFromStr4time10Foundation4DateVSS_tF">getTimeFromStr(time:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule19getTravelTimeString3secSSSi_tF">getTravelTimeString(sec:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule16readJsonFromFile8filePath10SwiftyJSON0J0VSgSS_tF">readJsonFromFile(filePath:)</a>
              </li>
              <li class="nav-group-task">
                <a href="../Functions.html#/s:15Survey_Schedule17setMinPermToCache03minE0ySaySSG_tF">setMinPermToCache(minPerm:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Typealiases.html#/s:15Survey_Schedule9StatIndexa">StatIndex</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>DynamicRouting</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">DynamicRouting</span> <span class="p">:</span> <span class="kt">ObservableObject</span></code></pre>

                </div>
              </div>
            <p>Represent the dynamic routing handler. The class is reponsible for do the real-time calculation to
update the UI station and schedule. The <strong>DynamicRouting</strong> will check the repeat time whenever a user
tap Done button and generate the next station. <strong>ClusterRouting</strong> object is used to get the new schedule when
it&rsquo;s time to revisit previous station, change of station scheduling and end the survey.</p>

<p>When a user chagne the scheduling of stations, <strong>DynamicRouting</strong> will also use <strong>ClusterRouting</strong> object
to calculate the full schedule with the changes and update to master. Same action will happen when a user tap End Survey today.</p>
<div class="aside aside-to-do">
    <p class="aside-title">To do</p>
    <p>currentVisitPath should be two dimensional array to represent the visit log for different days.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p>SeeAlso:</p>

<ul>
<li>ClusterRouting</li>
<li>StationRouting</li>
</ul>

</div>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC11preVisitLogAA0fG0Cvp"></a>
                    <a name="//apple_ref/swift/Property/preVisitLog" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC11preVisitLogAA0fG0Cvp">preVisitLog</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Previous visit log</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">preVisitLog</span><span class="p">:</span> <span class="kt">VisitLog</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC12nextVisitLogAA0fG0Cvp"></a>
                    <a name="//apple_ref/swift/Property/nextVisitLog" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC12nextVisitLogAA0fG0Cvp">nextVisitLog</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Next visit log</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">nextVisitLog</span><span class="p">:</span> <span class="kt">VisitLog</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC7nextIdxSi3day_Si7clusterSi7stationtvp"></a>
                    <a name="//apple_ref/swift/Property/nextIdx" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC7nextIdxSi3day_Si7clusterSi7stationtvp">nextIdx</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The index of next visit log on master schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">nextIdx</span><span class="p">:</span> <span class="kt"><a href="../Typealiases.html#/s:15Survey_Schedule9StatIndexa">StatIndex</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC11nextStationSSvp"></a>
                    <a name="//apple_ref/swift/Property/nextStation" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC11nextStationSSvp">nextStation</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The next station name that shows in Next Station section</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@Published</span>
<span class="k">var</span> <span class="nv">nextStation</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC14nextTravelTimeSSvp"></a>
                    <a name="//apple_ref/swift/Property/nextTravelTime" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC14nextTravelTimeSSvp">nextTravelTime</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The travel time to next station that shows in Next Station section</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@Published</span>
<span class="k">var</span> <span class="nv">nextTravelTime</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC11doneLoadingSbvp"></a>
                    <a name="//apple_ref/swift/Property/doneLoading" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC11doneLoadingSbvp">doneLoading</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The bool indecates whether shows the loading view or not</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@Published</span>
<span class="k">var</span> <span class="nv">doneLoading</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC8dayLimitSivp"></a>
                    <a name="//apple_ref/swift/Property/dayLimit" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC8dayLimitSivp">dayLimit</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The working hour for a day in hours</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">dayLimit</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC11defaultTime10Foundation4DateVvp"></a>
                    <a name="//apple_ref/swift/Property/defaultTime" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC11defaultTime10Foundation4DateVvp">defaultTime</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The default date in the app</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">let</span> <span class="nv">defaultTime</span><span class="p">:</span> <span class="kt">Date</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC9beginDate10Foundation0F0Vvp"></a>
                    <a name="//apple_ref/swift/Property/beginDate" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC9beginDate10Foundation0F0Vvp">beginDate</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The date a user done with the first station of a day</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">beginDate</span><span class="p">:</span> <span class="kt">Date</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC14lastRepeatTimeSivp"></a>
                    <a name="//apple_ref/swift/Property/lastRepeatTime" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC14lastRepeatTimeSivp">lastRepeatTime</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The timestamp that last revisit happened</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">lastRepeatTime</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC5todaySivp"></a>
                    <a name="//apple_ref/swift/Property/today" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC5todaySivp">today</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The current day on master schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">today</span><span class="p">:</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC9doneTodaySbvp"></a>
                    <a name="//apple_ref/swift/Property/doneToday" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC9doneTodaySbvp">doneToday</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>True, if done with last station, not CS25, on today&rsquo;s schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">doneToday</span><span class="p">:</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC12stationsListSayAA7StationCGvp"></a>
                    <a name="//apple_ref/swift/Property/stationsList" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC12stationsListSayAA7StationCGvp">stationsList</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Station list</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@Published</span>
<span class="k">var</span> <span class="nv">stationsList</span><span class="p">:</span> <span class="p">[</span><span class="kt">Station</span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC17stationListBackUpSaySbGvp"></a>
                    <a name="//apple_ref/swift/Property/stationListBackUp" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC17stationListBackUpSaySbGvp">stationListBackUp</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Copy of all stations scheduling</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">stationListBackUp</span><span class="p">:</span> <span class="p">[</span><span class="kt">Bool</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC06masterB0SaySaySayAA8VisitLogCGGGvp"></a>
                    <a name="//apple_ref/swift/Property/masterSchedule" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC06masterB0SaySaySayAA8VisitLogCGGGvp">masterSchedule</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The master schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">masterSchedule</span><span class="p">:</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC07clusterD0AA07ClusterD0Cvp"></a>
                    <a name="//apple_ref/swift/Property/clusterRouting" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC07clusterD0AA07ClusterD0Cvp">clusterRouting</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The cluster routing object</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">clusterRouting</span><span class="p">:</span> <span class="kt"><a href="../Classes/ClusterRouting.html">ClusterRouting</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC07stationD0AA07StationD0Cvp"></a>
                    <a name="//apple_ref/swift/Property/stationRouting" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC07stationD0AA07StationD0Cvp">stationRouting</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The station routing object</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">stationRouting</span><span class="p">:</span> <span class="kt"><a href="../Classes/StationRouting.html">StationRouting</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC16currentVisitPathSayAA0F3LogCGvp"></a>
                    <a name="//apple_ref/swift/Property/currentVisitPath" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC16currentVisitPathSayAA0F3LogCGvp">currentVisitPath</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Current visit log so far.  TODO: Make currentVisitPath two dimensional array to indicate the visit log for different days</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">currentVisitPath</span><span class="p">:</span> <span class="p">[</span><span class="kt">VisitLog</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingCACycfc"></a>
                    <a name="//apple_ref/swift/Method/init()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingCACycfc">init()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initializes a new dynamicRouting. The original clusters will be obtain from file and the default date will be set.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="nf">init</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC5resetyyF"></a>
                    <a name="//apple_ref/swift/Method/reset()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC5resetyyF">reset()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Reset basic setting when a user done with first station which should be CS25</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">reset</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC011makeInitialB0yyF"></a>
                    <a name="//apple_ref/swift/Method/makeInitialSchedule()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC011makeInitialB0yyF">makeInitialSchedule()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create initial master schedule when first open the app.</p>

<p>Todo: The initial master schedule should be from file</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">makeInitialSchedule</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC05mergeB007updatedB0ySaySaySayAA8VisitLogCGGG_tF"></a>
                    <a name="//apple_ref/swift/Method/mergeSchedule(updatedSchedule:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC05mergeB007updatedB0ySaySaySayAA8VisitLogCGGG_tF">mergeSchedule(updatedSchedule:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update the master schedule by append updatedSchedule to currentVisitPath</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">mergeSchedule</span><span class="p">(</span><span class="nv">updatedSchedule</span><span class="p">:</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]])</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>updatedSchedule</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the updated schedule that need to be appened</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC18removeFirstStation8scheduleSaySaySayAA8VisitLogCGGGAJ_tF"></a>
                    <a name="//apple_ref/swift/Method/removeFirstStation(schedule:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC18removeFirstStation8scheduleSaySaySayAA8VisitLogCGGGAJ_tF">removeFirstStation(schedule:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Remove the first visitlog from the schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">removeFirstStation</span><span class="p">(</span><span class="nv">schedule</span><span class="p">:</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]])</span> <span class="o">-&gt;</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>schedule</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the schedule that need to be removed first station</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A schedule with first station removed</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC10getNextIdxyyF"></a>
                    <a name="//apple_ref/swift/Method/getNextIdx()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC10getNextIdxyyF">getNextIdx()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get the next scheduled station which should be not be visited and not skpped</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getNextIdx</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC15setNextVisitLog9isRevisitySb_tF"></a>
                    <a name="//apple_ref/swift/Method/setNextVisitLog(isRevisit:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC15setNextVisitLog9isRevisitySb_tF">setNextVisitLog(isRevisit:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update the next visit log from nextIdx</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">setNextVisitLog</span><span class="p">(</span><span class="nv">isRevisit</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>isRevisit</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Indicates the next visit log should be revisit or not</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC14setNextStationyyF"></a>
                    <a name="//apple_ref/swift/Method/setNextStation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC14setNextStationyyF">setNextStation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set the next station name in Next Station section</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">setNextStation</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC14createClusters10SwiftyJSON0H0VyF"></a>
                    <a name="//apple_ref/swift/Method/createClusters()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC14createClusters10SwiftyJSON0H0VyF">createClusters()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create clusters from those unvisited and scheduled stations.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">createClusters</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">JSON</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>The new clusters with JSON format</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC10getCluster7stationSSAA7StationC_tF"></a>
                    <a name="//apple_ref/swift/Method/getCluster(station:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC10getCluster7stationSSAA7StationC_tF">getCluster(station:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get the cluster that consis of the staion</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getCluster</span><span class="p">(</span><span class="nv">station</span><span class="p">:</span> <span class="kt">Station</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">String</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>station</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the station</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A cluster id</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC20setPreStationVisitedyyF"></a>
                    <a name="//apple_ref/swift/Method/setPreStationVisited()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC20setPreStationVisitedyyF">setPreStationVisited()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set visited for the station that a user just done with measurement</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">setPreStationVisited</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC15getStationIndex7stationSiSS_tF"></a>
                    <a name="//apple_ref/swift/Method/getStationIndex(station:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC15getStationIndex7stationSiSS_tF">getStationIndex(station:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Get the station index in stationsList</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getStationIndex</span><span class="p">(</span><span class="nv">station</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Int</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>station</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the station name string</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An index for stationsList</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC18removeFirstCluster8scheduleSaySaySayAA8VisitLogCGGGAJ_tF"></a>
                    <a name="//apple_ref/swift/Method/removeFirstCluster(schedule:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC18removeFirstCluster8scheduleSaySaySayAA8VisitLogCGGGAJ_tF">removeFirstCluster(schedule:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Remove first cluster in the schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">removeFirstCluster</span><span class="p">(</span><span class="nv">schedule</span><span class="p">:</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]])</span> <span class="o">-&gt;</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>schedule</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the schedule</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An new schedule with first cluster removed</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC18insertFirstCluster07clusterB08scheduleSaySaySayAA8VisitLogCGGGAI_AKtF"></a>
                    <a name="//apple_ref/swift/Method/insertFirstCluster(clusterSchedule:schedule:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC18insertFirstCluster07clusterB08scheduleSaySaySayAA8VisitLogCGGGAI_AKtF">insertFirstCluster(clusterSchedule:<wbr>schedule:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Insert a cluster in the front of the schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">insertFirstCluster</span><span class="p">(</span><span class="nv">clusterSchedule</span><span class="p">:</span> <span class="p">[</span><span class="kt">VisitLog</span><span class="p">],</span> <span class="nv">schedule</span><span class="p">:</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]])</span> <span class="o">-&gt;</span> <span class="p">[[[</span><span class="kt">VisitLog</span><span class="p">]]]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>clusterSchedule</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the array of visitlog</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>schedule</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>the schedule to inserted</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An new schedule with the cluster inserted</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC017getRevisitClusterB04fromSayAA8VisitLogCGSaySSG_tF"></a>
                    <a name="//apple_ref/swift/Method/getRevisitClusterSchedule(from:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC017getRevisitClusterB04fromSayAA8VisitLogCGSaySSG_tF">getRevisitClusterSchedule(from:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create a cluster which is an array of visitlog from list of station name</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">getRevisitClusterSchedule</span><span class="p">(</span><span class="n">from</span> <span class="nv">stations</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="kt">VisitLog</span><span class="p">]</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>stations</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An array of station name</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An array of visitlog as a cluster</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC08indexingB0yyF"></a>
                    <a name="//apple_ref/swift/Method/indexingSchedule()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC08indexingB0yyF">indexingSchedule()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create index for all visitlog in the master schedule in order to gray out the scheduled station</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">indexingSchedule</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC18isStationScheduled7stationSbSS_tF"></a>
                    <a name="//apple_ref/swift/Method/isStationScheduled(station:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC18isStationScheduled7stationSbSS_tF">isStationScheduled(station:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Check the station is schedule or not</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">isStationScheduled</span><span class="p">(</span><span class="nv">station</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>station</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A station name</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true if scheduled</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC14isFirstStationSbyF"></a>
                    <a name="//apple_ref/swift/Method/isFirstStation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC14isFirstStationSbyF">isFirstStation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Check the next station is the first station of a day or not</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">isFirstStation</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true if is the first station</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC16doneVisitStationyyF"></a>
                    <a name="//apple_ref/swift/Method/doneVisitStation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC16doneVisitStationyyF">doneVisitStation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Handle done with a station in the background</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">doneVisitStation</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC16HandleDoneActionyyF"></a>
                    <a name="//apple_ref/swift/Method/HandleDoneAction()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC16HandleDoneActionyyF">HandleDoneAction()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Handle done with the measurement of a station</p>

<p><strong>Steps</strong></p>

<ol>
<li>Save next station to previous station</li>
<li>Check if it is time to revisit a station</li>
<li>Choose closest revisit station if exceed repeat time interval. Otherwise go to next station on master schedule</li>
</ol>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="kt">HandleDoneAction</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC19applyStationsChangeyyF"></a>
                    <a name="//apple_ref/swift/Method/applyStationsChange()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC19applyStationsChangeyyF">applyStationsChange()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Handle the stations change</p>

<p><strong>Steps</strong></p>

<ol>
<li>Re-clustering</li>
<li>Get full schedule</li>
<li>Update to the master schedule</li>
</ol>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">applyStationsChange</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC21backupStationsSettingyyF"></a>
                    <a name="//apple_ref/swift/Method/backupStationsSetting()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC21backupStationsSettingyyF">backupStationsSetting()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Create a backup station list to know what station change</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">backupStationsSetting</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC26isScheduledStationsChangedSbyF"></a>
                    <a name="//apple_ref/swift/Method/isScheduledStationsChanged()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC26isScheduledStationsChangedSbyF">isScheduledStationsChanged()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Check whether the stations has been changed</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">isScheduledStationsChanged</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>true if a station changed</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC21handleSkipNextStationyyF"></a>
                    <a name="//apple_ref/swift/Method/handleSkipNextStation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC21handleSkipNextStationyyF">handleSkipNextStation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Handle the action when Skip Station tapped.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">handleSkipNextStation</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC09handleEndA0yyF"></a>
                    <a name="//apple_ref/swift/Method/handleEndSurvey()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC09handleEndA0yyF">handleEndSurvey()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Handle the action when End Survey tapped</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">handleEndSurvey</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC17appendBaseStationyyF"></a>
                    <a name="//apple_ref/swift/Method/appendBaseStation()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC17appendBaseStationyyF">appendBaseStation()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Append the base station to the end of visited station and update the master schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">appendBaseStation</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC06updateB8TomorrowyyF"></a>
                    <a name="//apple_ref/swift/Method/updateScheduleTomorrow()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC06updateB8TomorrowyyF">updateScheduleTomorrow()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Calculate the schedule for next day and update the master schdule when it&rsquo;s done</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">updateScheduleTomorrow</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC21applyInitialTimestampyyF"></a>
                    <a name="//apple_ref/swift/Method/applyInitialTimestamp()" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC21applyInitialTimestampyyF">applyInitialTimestamp()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set the begin time to all stations and apply the timestamp</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">applyInitialTimestamp</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC17applyTimeInterval3dayySi_tF"></a>
                    <a name="//apple_ref/swift/Method/applyTimeInterval(day:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC17applyTimeInterval3dayySi_tF">applyTimeInterval(day:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Append the base station to the end of visited station and update the master schedule</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">applyTimeInterval</span><span class="p">(</span><span class="nv">day</span><span class="p">:</span> <span class="kt">Int</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>day</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The day of schedule should be applied</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC12setStartDate3day05startG0ySi_10Foundation0G0VtF"></a>
                    <a name="//apple_ref/swift/Method/setStartDate(day:startDate:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC12setStartDate3day05startG0ySi_10Foundation0G0VtF">setStartDate(day:<wbr>startDate:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Set start date for the rest of scheduled station of the day</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">setStartDate</span><span class="p">(</span><span class="nv">day</span><span class="p">:</span> <span class="kt">Int</span><span class="p">,</span> <span class="nv">startDate</span><span class="p">:</span> <span class="kt">Date</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>day</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The day of the master schedule that should be applied</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>startDate</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The date want to be set</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:15Survey_Schedule14DynamicRoutingC15updateTimestamp6offsety10Foundation14DateComponentsV_tF"></a>
                    <a name="//apple_ref/swift/Method/updateTimestamp(offset:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:15Survey_Schedule14DynamicRoutingC15updateTimestamp6offsety10Foundation14DateComponentsV_tF">updateTimestamp(offset:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Update the ETA for the rest of schedule station today</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">updateTimestamp</span><span class="p">(</span><span class="nv">offset</span><span class="p">:</span> <span class="kt">DateComponents</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>offset</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The time interval to be added</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external">Jasper Hsieh</a>. All rights reserved. (Last updated: 2020-05-10)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
